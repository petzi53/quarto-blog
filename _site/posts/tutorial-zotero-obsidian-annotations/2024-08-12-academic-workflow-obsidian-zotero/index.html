<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Peter Baumgartner">
<meta name="dcterms.date" content="2024-08-12">
<meta name="description" content="How do you export Zotero annotations (= highlighted text and comments) from PDFs, ePUB eBooks, and website snapshots into Obsidian, and how do you go back from your Obsidian notes to the exact position of the annotation to (re)cover the context?">

<title>Annotation Tutorial 2: Integrating Zotero with Obsidian – Life Long Learning Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XYF778844K"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XYF778844K', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "classic",
  "openSidebar": false,
  "showHighlights": "whenSidebarOpen",
  "enableExperimentalNewNoteButton": true,
  "branding": {
    "appBackgroundColor": "white",
    "ctaBackgroundColor": "rgb(81, 118, 153)",
    "ctaTextColor": "rgb(221, 228, 235)",
    "selectionFontFamily": "helvetica, arial, sans serif"
  }
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="../../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
<link rel="stylesheet" href="../../../glossary.css">
<meta name="twitter:title" content="Annotation Tutorial 2: Integrating Zotero with Obsidian – Life Long Learning Lab">
<meta name="twitter:description" content="How do you export Zotero annotations (= highlighted text and comments) from PDFs, ePUB eBooks, and website snapshots into Obsidian, and how do you go back from your Obsidian notes to the exact position of the annotation to (re)cover the context?">
<meta name="twitter:image" content="https://l3lab.net/posts/tutorial-zotero-obsidian-annotations/2024-08-12-academic-workflow-obsidian-zotero/zotero-integration-obsidian-logo-min.png">
<meta name="twitter:image-height" content="554">
<meta name="twitter:image-width" content="1200">
<meta name="twitter:image:alt" content="The Zotero application icon is on the left, and the Obsidian icon is on the right of the image. Both icons have two arrows, one pointing from Zotero to Obsidian and the other from Obsidian to Zotero.">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Life Long Learning Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/petzi53/quarto-blog"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://x.com/pbaumgartner"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="../../../quarto-blog.html">
 <span class="dropdown-text">Create a Quarto Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../zotero-obsidian-annotations.html">
 <span class="dropdown-text">Zotero-Obsidian Annotations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="https://peter.baumgartner.name">
 <span class="dropdown-text">Gedankensplitter (German)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://quarto.org/docs/blog/index.html">
 <span class="dropdown-text">Quarto Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rweekly.org/">
 <span class="dropdown-text">R Weekly</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.r-bloggers.com/">
 <span class="dropdown-text">R Bloggers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../archive.html"> 
<span class="menu-text">Archive</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Annotation Tutorial 2: Integrating Zotero with Obsidian</h1>
            <p class="subtitle lead">Tutorial for an efficient academic workflow</p>
                  <div>
        <div class="description">
          How do you export Zotero annotations (= highlighted text and comments) from PDFs, ePUB eBooks, and website snapshots into Obsidian, and how do you go back from your Obsidian notes to the exact position of the annotation to (re)cover the context?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">academic</div>
                <div class="quarto-category">obsidian</div>
                <div class="quarto-category">workflow</div>
                <div class="quarto-category">zotero</div>
                <div class="quarto-category">how-to</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Peter Baumgartner </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 12, 2024</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">August 20, 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../../../../../portrait-peter.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Peter Baumgartner"><img src="../../../../../portrait-peter.png" class="img-fluid figure-img" alt="Peter Baumgartner"></a></p>
<figcaption>Peter Baumgartner</figcaption>
</figure>
</div>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="4">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#zotero-integration-with-obsidian" id="toc-zotero-integration-with-obsidian" class="nav-link active" data-scroll-target="#zotero-integration-with-obsidian">Zotero Integration with Obsidian</a>
  <ul>
  <li><a href="#academic-workflow" id="toc-academic-workflow" class="nav-link" data-scroll-target="#academic-workflow">Academic Workflow</a></li>
  </ul></li>
  <li><a href="#notes-in-zotero" id="toc-notes-in-zotero" class="nav-link" data-scroll-target="#notes-in-zotero">Notes in Zotero</a>
  <ul>
  <li><a href="#child-and-standalone-notes" id="toc-child-and-standalone-notes" class="nav-link" data-scroll-target="#child-and-standalone-notes">Child and Standalone Notes</a></li>
  <li><a href="#how-to-create-a-child-note" id="toc-how-to-create-a-child-note" class="nav-link" data-scroll-target="#how-to-create-a-child-note">How to create a child note</a>
  <ul>
  <li><a href="#sec-add-note-from-annotation" id="toc-sec-add-note-from-annotation" class="nav-link" data-scroll-target="#sec-add-note-from-annotation">Add Note from Annotations</a></li>
  <li><a href="#add-empty-note" id="toc-add-empty-note" class="nav-link" data-scroll-target="#add-empty-note">Add (empty) Note</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#installing-plugins" id="toc-installing-plugins" class="nav-link" data-scroll-target="#installing-plugins">Installing Plugins</a>
  <ul>
  <li><a href="#better-bibtex-and-zotero-integration" id="toc-better-bibtex-and-zotero-integration" class="nav-link" data-scroll-target="#better-bibtex-and-zotero-integration">Better BibTeX and Zotero Integration</a></li>
  <li><a href="#install-better-bibtex" id="toc-install-better-bibtex" class="nav-link" data-scroll-target="#install-better-bibtex">Install “Better BibTeX”</a></li>
  <li><a href="#install-zotero-integration" id="toc-install-zotero-integration" class="nav-link" data-scroll-target="#install-zotero-integration">Install “Zotero Integration”</a></li>
  </ul></li>
  <li><a href="#zotero-integration-settings" id="toc-zotero-integration-settings" class="nav-link" data-scroll-target="#zotero-integration-settings">Zotero Integration Settings</a>
  <ul>
  <li><a href="#general-settings" id="toc-general-settings" class="nav-link" data-scroll-target="#general-settings">General Settings</a></li>
  </ul></li>
  <li><a href="#import-annotation-into-obsidian-without-template" id="toc-import-annotation-into-obsidian-without-template" class="nav-link" data-scroll-target="#import-annotation-into-obsidian-without-template">Import Annotation into Obsidian without Template</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/petzi53/quarto-blog/edit/main/posts/tutorial-zotero-obsidian-annotations/2024-08-12-academic-workflow-obsidian-zotero/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/petzi53/quarto-blog/issues/new/choose" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="zotero-integration-with-obsidian" class="level2">
<h2 class="anchored" data-anchor-id="zotero-integration-with-obsidian">Zotero Integration with Obsidian</h2>
<section id="academic-workflow" class="level3">
<h3 class="anchored" data-anchor-id="academic-workflow">Academic Workflow</h3>
<p>In the <a href="../2024-08-20-annotations-with-zotero-version-7">first part of this annotation tutorial</a>, I have described the different annotation types in Zotero version 7 and how to use them. In this second part, I will explain a simple method for importing Zotero annotations into Obsidian. These Obsidian notes will link to the source of the annotation (quote) in Zotero.</p>
<p>These backlinks are essential because one cannot always remember the original context of the citation. Especially if the creation of the annotation happened long ago or if the original purpose of the quote for a specific publication/research issue has changed, you need to check and reassess the context of the quote. Only by looking up the annotation in the source document can you prevent redundant and superfluous information from remembering the context of the quote.</p>
<p>After reading and annotating, it is crucial to elaborate on the highlighted content. The general strategy is to add, reformulate, and include the citations in the paper that is in progress. Whatever these changes are in the initial annotations, it is vital for an efficient workflow to always have a reference to the original position of the citation.</p>
<p>There are two strategies for the integration of your “research assistant” (Zotero) with your note-taking app (Obsidian):</p>
<ol type="1">
<li>Creating a note inside Zotero and importing it into Obsidian (this post).</li>
<li>Extracting all annotation directly from the document programmatically (the third part of the annotation tutorial).</li>
</ol>
<p>In both cases, you need to install two plugins: <a href="https://retorque.re/zotero-better-bibtex/">Better BibTeX</a> in Zotero and <a href="https://github.com/mgmeyers/obsidian-zotero-integration">Zotero Integration</a> in Obsidian.</p>
</section>
</section>
<section id="notes-in-zotero" class="level2">
<h2 class="anchored" data-anchor-id="notes-in-zotero">Notes in Zotero</h2>
<section id="child-and-standalone-notes" class="level3">
<h3 class="anchored" data-anchor-id="child-and-standalone-notes">Child and Standalone Notes</h3>
<p>Zotero knows two types of notes. (The type names are my inventions to facilitate the explanation):</p>
<ul>
<li><strong>Child Note or Items Note</strong> belongs to the item where it was created. It lives inside the Zotero item.</li>
<li><strong>Standalone Notes</strong> lives in the appropriate Zotero item collection but does not belong to any specific Zotero item. This note type is helpful for writing notes for multiple items.</li>
</ul>
<p>Only the child note is an annotation because it fulfills the requirement of the annotation: It is anchored to specific text – even if it consists itself of (a collection of) annotations.</p>
<p>Both types of notes can be created either as individual notes or as a note that collects all highlights:</p>
<ul>
<li><strong>Individual note</strong>: This is a new, empty note item. You can write your text into the note directly or drag and drop annotations from the left column.</li>
<li><strong>Highlights note</strong>: This note collects and copies all content created with the annotation types, as mentioned earlier. You are always free to add or change the note content.</li>
</ul>
<p>The distinctions between child and standalone notes are not carved in stone, as you can always drag a standalone note into an appropriate Zotero item, and so it converts into a child note. You can also drag the child note as an item itself in the Zotero middle pane, and so it converts into a standalone note.</p>
<div class="callout callout-style-default callout-important callout-titled" style="color: red;">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can create as many notes as you want. However, only child notes will be imported into Obsidian using the Zotero Integration plugin.</p>
</div>
</div>
</section>
<section id="how-to-create-a-child-note" class="level3">
<h3 class="anchored" data-anchor-id="how-to-create-a-child-note">How to create a child note</h3>
<section id="sec-add-note-from-annotation" class="level4">
<h4 class="anchored" data-anchor-id="sec-add-note-from-annotation">Add Note from Annotations</h4>
<ol type="1">
<li>Select the Zotero item or the document (PDF, ePUB-eBook, website snapshot) inside the Zotero item.</li>
<li>Open the context menu (right mouse click on my installation)</li>
<li>Select “Add Note from Annotations”</li>
</ol>
</section>
<section id="add-empty-note" class="level4">
<h4 class="anchored" data-anchor-id="add-empty-note">Add (empty) Note</h4>
<ol type="1">
<li>Select the Zotero item (not the document).</li>
<li>Open the context menu (right mouse click on my installation)</li>
<li>Select “Add Note”</li>
</ol>
<div id="fig-empty-child-note" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The screenshot shows different types of annotations with Zotero in a PDF. The page is divided horizontally into three parts. From left to right: a small sidebar (about 10% width) with the content of the annotations, the document with the annotations (about 70% width), and the context pane with metadata." data-fig-align="center" data-group="zotero-integration">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-empty-child-note-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="zotero-integration-add-empty-child-note-min.png" class="lightbox" data-gallery="zotero-integration" title="Figure&nbsp;1: How to add an empty child note: (1) Select the Zotero item (2) Open context menu and (3) Select ‘Add Note’"><img src="zotero-integration-add-empty-child-note-min.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="The screenshot shows different types of annotations with Zotero in a PDF. The page is divided horizontally into three parts. From left to right: a small sidebar (about 10% width) with the content of the annotations, the document with the annotations (about 70% width), and the context pane with metadata."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-empty-child-note-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: How to add an empty child note: (1) Select the Zotero item (2) Open context menu and (3) Select ‘Add Note’
</figcaption>
</figure>
</div>
<p>To repeat: An “child note” is a note that is sorted under a Zotero item, independently of where it was created initially.</p>
<p>We generate child notes as the easiest way to export notes into Obsidian. This has the disadvantage that changes in the Zotero annotations need another export to Obsidian. We will, therefore, cover in the <a href="../2024-08-20-obsidian-zotero-integration-advanced">third part of the tutorial</a> an alternative, a more complex way where the Obsidian plugin extracts the annotations programmatically from the Zotero document.</p>
</section>
</section>
</section>
<section id="installing-plugins" class="level2">
<h2 class="anchored" data-anchor-id="installing-plugins">Installing Plugins</h2>
<section id="better-bibtex-and-zotero-integration" class="level3">
<h3 class="anchored" data-anchor-id="better-bibtex-and-zotero-integration">Better BibTeX and Zotero Integration</h3>
<p>For the import of annotations into Obsidian, we need two <a class="glossary" title="A plug-in (or plugin, add-in, addin, add-on, or addon) is a software component that adds a specific feature to an existing computer program. (Wikipedia)">plugins</a>. At the side of Zotero <a href="https://retorque.re/zotero-better-bibtex/">Better BibTeX</a> and in Obsidian the <a href="https://github.com/mgmeyers/obsidian-zotero-integration">Zotero Integration</a>.</p>
<ul>
<li><strong>Better BibTex</strong> makes it easier to manage bibliographic data, especially for people authoring documents using a text-based tool chains (e.g., based on <a href="https://www.latex-project.org/">LaTeX</a> / <a href="https://www.markdownguide.org/">Markdown</a>). This plugin has a rich functionality, but we are using it for the Obsidian-Zotero integration just for one feature: To create a file with citations and consistent <a href="https://pandoc.org/">pandoc</a> cite keys.</li>
<li><strong>Zotero Integration</strong> does the main work: It inserts and imports citations, bibliographies, notes, and PDF annotations from Zotero into Obsidian. For this functionality, it needs the installation of the Better BibTeX plugin as an enhancement for Zotero.</li>
</ul>
</section>
<section id="install-better-bibtex" class="level3">
<h3 class="anchored" data-anchor-id="install-better-bibtex">Install “Better BibTeX”</h3>
<blockquote class="blockquote">
<p>To install a plugin in Zotero, download its <code>.xpi</code> file to your computer. Then, in Zotero, click “Tools → Add-ons” and drag the <code>.xpi</code> onto the Add-ons window. (<a href="https://www.zotero.org/support/plugins">Plugins for Zotero</a>)</p>
</blockquote>
<p>To find the latest version of the Better BibTeX <code>.xpi</code> file <a href="https://github.com/retorquere/zotero-better-bibtex/releases/latest">click at this link here</a>.</p>
<p>For a more detailed installation procedure <a href="https://retorque.re/zotero-better-bibtex/installation/">see here</a>.</p>
</section>
<section id="install-zotero-integration" class="level3">
<h3 class="anchored" data-anchor-id="install-zotero-integration">Install “Zotero Integration”</h3>
<blockquote class="blockquote">
<p>In Obsidian, open Settings; on the left, under Options, open Community Plugins, on Community Plugins, select Browse and search for ‘Zotero Integration’ (<a href="https://github.com/mgmeyers/obsidian-zotero-integration#help-how-do-i-install-the-plugin">Help, How do I install the Plugin?</a>).</p>
</blockquote>
<p>For more details, especially troubleshooting the installation, see the <a href="https://github.com/mgmeyers/obsidian-zotero-integration">README file of Better BibTeX</a>.</p>
</section>
</section>
<section id="zotero-integration-settings" class="level2">
<h2 class="anchored" data-anchor-id="zotero-integration-settings">Zotero Integration Settings</h2>
<p>The last task is to adapt the settings of the Obsidian Zotero Integration plugin.</p>
<ol type="1">
<li>Open Preferences with the menu “Obsidian → Preferences…” or <code>CMD+,</code> (macOS) / <code>CTRL+,</code> (Windows).</li>
<li>Scroll the left column down to “Zotero Integration” and select this plugin.</li>
</ol>
<p>You will get a window with content similar to that in <a href="#fig-zotero-integration-settings" class="quarto-xref">Figure&nbsp;2</a>. The look may differ depending on the Obsidian theme you are using. (I am using <a href="https://github.com/nickmilo/Cybertron">Cybertron</a>)</p>
<div id="fig-zotero-integration-settings" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The screenshot shows the general settings for importing annotated PDF files. The different fields are explained in the text." data-fig-align="center" data-group="zotero-integration">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-zotero-integration-settings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="zotero-integration-plugin-settings-min.png" class="lightbox" data-gallery="zotero-integration" title="Figure&nbsp;2: Top part of the “Zotero Integration” plugin settings. For the import method explained here, you need only to complete the “General Settings”."><img src="zotero-integration-plugin-settings-min.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="The screenshot shows the general settings for importing annotated PDF files. The different fields are explained in the text."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zotero-integration-settings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Top part of the “Zotero Integration” plugin settings. For the import method explained here, you need only to complete the “General Settings”.
</figcaption>
</figure>
</div>
<p>The configuration setting page for the “Zotero Integration” plugin is complex. It consists of four parts:</p>
<ul>
<li>General Settings</li>
<li>Citation Formats</li>
<li>Import Formats and</li>
<li>Import Image Settings</li>
</ul>
<p>Although there are many preferences for the simple import method used in In this post, we will only need to complete the general settings.</p>
<section id="general-settings" class="level3">
<h3 class="anchored" data-anchor-id="general-settings">General Settings</h3>
<p>The first two settings provide the path to the main utility program for extracting data from PDFs. <a href="https://github.com/mgmeyers/pdfannots2json/releases">pdfannots2json.js</a> should work immediately after the installation of the “Zotero Integration” plugin. Otherwise, you must download the tool and provide a path to it.</p>
<p>In the third field, you specify the program you will use. The plugin supports Zotero and <a href="https://juris-m.github.io/">the Jurism project</a>, specializing in legal research, and is also based on the Zotero reference manager. For advanced usage, you also have the option to specify a custom port number. The default port where Zotero is listening to <code>23119</code>. You don’t need to change it in a standard configuration. Only for a special Zotero configuration, e.g., when using Zotero on a terminal server, you must provide another port number.</p>
<p>In the following field, you specify the path in Obsidian where the Zotero annotations should be stored. I have used with “zotero” a subdirectory of “annotation” because I have with <a href="https://calibre-ebook.com/">Calibre</a> another app where I am importing annotations into Obsidian.</p>
<p>The following two fields determine if Obsidian should open the imported file and in the case, you have imported several at once, which of the imported files.</p>
<p>The last option of the general settings is enabling the concatenation of annotations. Although I have turned it on, I have yet to use this functionality. Instead of concatenating files, I have used to separate new data (updates) via template functions, which I will explain in the <a href="../2024-08-20-obsidian-zotero-integration-advanced">third part of the tutorial</a>.</p>
</section>
</section>
<section id="import-annotation-into-obsidian-without-template" class="level2">
<h2 class="anchored" data-anchor-id="import-annotation-into-obsidian-without-template">Import Annotation into Obsidian without Template</h2>
<p>For this procedure, you need to create the annotation file in Zotero manually, as I have already explained in <a href="#sec-add-note-from-annotation" class="quarto-xref">Section&nbsp;2.2.1</a>.</p>
<div id="fig-obsidian-command-palette" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The screenshots shows a search field with the text 'zotero inte'. Below are the found Obsidian command that contain the search string. From top to bottom: 'Zotero Integration: Bib Format'; 'Zotero Integration: Import notes' with shortcut CMD-CTRL-SHIFT-Z; 'Zotero Integration: Pandoc Format' with shortcut CMD-ALT-CTRL-SHIFT-Z; 'Zotero Integration: Data explorer'; 'Zotero Integration: Formatted Citation'; 'Zotero Integration: Create Literature Note' with shortcut ALT-Z; 'Zotero Integration: Formatted Bibliography'; 'Zotero Integration: Insert notes into current document' with shortcut CMD-CTRL-Z." data-fig-align="center" data-group="zotero-integration">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-obsidian-command-palette-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="zotero-integration-command-palette-min.png" class="lightbox" data-gallery="zotero-integration" title="Figure&nbsp;3: Obsidian Command Palette displaying all available commands of the Zotero Integration plugin. For some of the commands I have assigned hotkeys."><img src="zotero-integration-command-palette-min.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="The screenshots shows a search field with the text 'zotero inte'. Below are the found Obsidian command that contain the search string. From top to bottom: 'Zotero Integration: Bib Format'; 'Zotero Integration: Import notes' with shortcut CMD-CTRL-SHIFT-Z; 'Zotero Integration: Pandoc Format' with shortcut CMD-ALT-CTRL-SHIFT-Z; 'Zotero Integration: Data explorer'; 'Zotero Integration: Formatted Citation'; 'Zotero Integration: Create Literature Note' with shortcut ALT-Z; 'Zotero Integration: Formatted Bibliography'; 'Zotero Integration: Insert notes into current document' with shortcut CMD-CTRL-Z."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-obsidian-command-palette-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Obsidian Command Palette displaying all available commands of the Zotero Integration plugin. For some of the commands I have assigned hotkeys.
</figcaption>
</figure>
</div>
<ol type="1">
<li>Now change to Obsidian and choose either “Import notes” or “Insert notes into the current document” from the command palette. If you attach shortcuts to these procedures, you don’t need to call the command using the Obsidian palette.</li>
<li>You have to wait until a window with the Zotero database appears, where you can select the appropriate Zotero item. All note files inside the Zotero item will be exported. The first command (“Import notes”) creates a new file; the second command inserts the annotations into the cursor position of the current Obsidian document.</li>
<li>The results are annotations with two links: “Go to annotation” and the citation using the appropriate Zotero citation style. “Go to annotation” opens the PDF and jumps to the annotation’s location in the original document. The citation link selects the appropriate bibliography item in the Zotero middle pane.</li>
</ol>
<div id="fig-annotation-example" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Screenshot of an example of an annotation file with a black background. From top to bottom: A yellow header says 'Annotations'; Timestamp '(7/31/2024, 7:23:53 PM)'; Followed by three examples of annotated text. Every entry starts with a red link to the exact position of the quote ('Go to annotation') and ends with a link to the bibliography entry in the Zotero middle pane. Eexample: '(Gethin et al., 2021, p.12)'. Between these two links is the annotated text passage surrounded by quotation marks." data-fig-align="center" data-group="zotero-integration">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-annotation-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="zotero-integration-example-without-template-min.png" class="lightbox" data-gallery="zotero-integration" title="Figure&nbsp;4: An example of an annotation file. Every entry starts with a link to the exact position of the quote and ends with a link to the bibliography entry in the Zotero middle pane. Between these two links is the annotated text passage surrounded by quotation marks."><img src="zotero-integration-example-without-template-min.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="Screenshot of an example of an annotation file with a black background. From top to bottom: A yellow header says 'Annotations'; Timestamp '(7/31/2024, 7:23:53 PM)'; Followed by three examples of annotated text. Every entry starts with a red link to the exact position of the quote ('Go to annotation') and ends with a link to the bibliography entry in the Zotero middle pane. Eexample: '(Gethin et al., 2021, p.12)'. Between these two links is the annotated text passage surrounded by quotation marks."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-annotation-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: An example of an annotation file. Every entry starts with a link to the exact position of the quote and ends with a link to the bibliography entry in the Zotero middle pane. Between these two links is the annotated text passage surrounded by quotation marks.
</figcaption>
</figure>
</div>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>In this post, I have explained how to integrate your “research assistant.” tool Zotero with the note-taking app Obsidian.</p>
<div class="my-procedure">
<div class="my-procedure-header">
<p>Import Annotations from Zotero into Obsidian (without template)</p>
</div>
<div class="my-procedure-container">
<ol type="1">
<li>Highlight or use other annotation methods in Zotero as explained in the <a href="../2024-08-20-annotations-with-zotero-version-7">first part of this tutorial</a>.</li>
<li>Create a note with the annotations in Zotero.</li>
<li>Install the necessary plugins: <a href="https://retorque.re/zotero-better-bibtex/">Better BibTeX</a> in Zotero and <a href="https://github.com/mgmeyers/obsidian-zotero-integration">Zotero Integration</a> in Obsidian.</li>
<li>Complete the ’General Settings” part of the “Zotero Integration.” plugin in Obsidian.</li>
<li>Choose either “Import notes” or “Include notes into current document” into Obsidian.</li>
<li>Wait for the Zotero dialog window and choose the Zotero item with the annotations.</li>
<li>Inspect the imported file content and test the links.</li>
</ol>
</div>
</div>
<p>You can now elaborate on your notes using all the advanced features Obsidian offers!</p>
<p>In the <a href="../2024-08-20-obsidian-zotero-integration-advanced">third part of the annotation tutorial</a>, I will explain how to use templates to programmatically extract annotations from Zotero documents. This has several advantages, but it is more complex to apply.</p>
<p>Are you satisfied with our result from this second part of the tutorial? Then, you can skip the last part or read it later when the need for better management of your different types of annotation arises.</p>
<section id="glossary" class="level6">
<h6 class="anchored" data-anchor-id="glossary">Glossary</h6>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Plugin</td>
<td style="text-align: left;">A plug-in (or plugin, add-in, addin, add-on, or addon) is a software component that adds a specific feature to an existing computer program. ([Wikipedia]</td>
</tr>
</tbody>
</table>


</div>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/l3lab\.net");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="petzi53/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <a href="https://l3lab.net">L3Lab</a> © 2023 by <a href="https://l3lab.net/about">Peter Baumgartner</a> is licensed under <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1">CC BY 4.0</a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../about.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../../privacy.html">
<p>Privacy</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../../disclaimer.html">
<p>Disclaimer</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/petzi53/quarto-blog/edit/main/posts/tutorial-zotero-obsidian-annotations/2024-08-12-academic-workflow-obsidian-zotero/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/petzi53/quarto-blog/issues/new/choose" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Proudly powered by <a href="https://quarto.org/">Quarto</a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"descPosition":"bottom","closeEffect":"zoom","selector":".lightbox","loop":true,"openEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>